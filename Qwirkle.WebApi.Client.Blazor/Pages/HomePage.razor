@page "/"
@page "/Home"
@attribute [Authorize]

<PageTitle>Index</PageTitle>
<AuthorizeView>
    <Authorized>
        <h1>Hello @context.User.Identity!.Name</h1>

        <p>Welcome to Qwirkle.</p>

        <MudButton id="btnNagigateToLastGame" Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => NavigateToGame(GamesIds.OrderByDescending(id => id).First()))">Last game</MudButton>
        <MudButton id="btnGetGamesIds" Variant="Variant.Filled" Color="Color.Primary" OnClick="GetGames">My games</MudButton>
        <MudButton id="btnCreateTestGame" Variant="Variant.Filled" Color="Color.Primary" OnClick="CreateTestGame">Create test game</MudButton>
        <MudButton id="btnCreateGameWithBot" Variant="Variant.Filled" Color="Color.Primary" OnClick="CreateGameWithBot">Create game with bot</MudButton>

        @foreach (var game in Games.OrderByDescending(g => g.Id))
        {
            <div class="form-signin">
                <button id="btnGetGame" class="btn btn-lg btn-primary btn-block" @onclick="@(() => NavigateToGame(game.Id))">Game @game.Id</button>
            </div>
        }
    </Authorized>

</AuthorizeView>